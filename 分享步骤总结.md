# 基石（+1）：坚实的工程实践 - Git/CI/CD基础

## 📋 分享准备清单

### ✅ 已完成的准备工作
- [x] 创建完整的演示项目（demo-project）
- [x] 配置Git工作流和提交规范
- [x] 配置CI/CD自动化流程（GitHub Actions）
- [x] 编写项目文档和演示指南
- [x] 推送到GitHub仓库（https://github.com/GeminiMing/Git-CI-CD）
- [x] 验证CI/CD流程正常运行

---

## 🎯 分享步骤指南

### 第一步：开场介绍（5分钟）

**核心观点：**
> "再聪明的AI助手，也无法在混乱的代码库中有效工作"

**要点：**
1. 工程实践是所有高级技巧的**基石**
2. 没有好的工程实践，再高级的AI协作技巧也会失效
3. 演示项目已准备就绪，将展示完整的工程实践流程

**演示：**
- 打开GitHub仓库：https://github.com/GeminiMing/Git-CI-CD
- 展示项目结构
- 展示CI/CD运行状态（绿色✓标记）

---

### 第二步：Git基础实践（15分钟）

#### 2.1 为什么需要版本控制？

**问题场景：**
- 多人协作时的代码冲突
- 部署时发现代码无法运行
- 功能回退找不到历史版本
- AI生成的代码质量不可控

**核心价值：**
- ✅ **可追溯性** - 每一步改动都有记录
- ✅ **可回滚性** - 出问题时能快速恢复
- ✅ **可协作性** - 团队并行开发不冲突

#### 2.2 演示：好的提交习惯

**打开终端，展示：**

```bash
cd demo-project

# 查看Git日志
git log --oneline --graph

# 查看提交信息格式
git log --format="%h - %s" -5
```

**强调：**
- 使用约定式提交格式（Conventional Commits）
- 提交粒度要小，信息要清晰
- 每个提交都是项目的历史记录

#### 2.3 分支策略演示

**展示：**
```
main/master (生产)
  └─ develop (开发)
      ├─ feature/user-auth
      ├─ feature/payment
      └─ hotfix/security-patch
```

**与Claude协作的场景：**
- 新功能：`git checkout -b feature/claude-generated-feature`
- 修复Bug：`git checkout -b fix/claude-suggested-fix`
- 实验性代码：`git checkout -b experiment/claude-exploration`

---

### 第三步：CI/CD实战演示（20分钟）

#### 3.1 什么是CI/CD？

**概念解释：**
- **CI (Continuous Integration)**: 持续集成
  - 代码合并前自动测试
  - 发现问题越早越好
  
- **CD (Continuous Deployment/Delivery)**: 持续部署/交付
  - 自动化部署流程
  - 减少人工错误

#### 3.2 展示CI配置

**打开文件：** `.github/workflows/ci.yml`

**讲解CI流程：**

1. **代码质量检查**
   ```yaml
   - Lint检查（ESLint）
   - 代码格式检查（Prettier）
   ```

2. **自动化测试**
   ```yaml
   - 运行所有测试用例
   - 生成覆盖率报告
   - 多Node.js版本测试（18, 20）
   ```

3. **构建验证**
   ```yaml
   - 验证项目可以正常构建
   - 确保没有构建错误
   ```

4. **安全扫描**
   ```yaml
   - npm audit安全检查
   - Snyk安全扫描
   ```

#### 3.3 现场演示CI运行

**在GitHub上：**
1. 打开仓库的Actions标签页
2. 展示最新的CI运行记录
3. 点击进入查看详细日志
4. 展示各个步骤的执行结果

**演示如何触发CI：**
```bash
# 创建一个小的修改
cd demo-project
echo "// Test comment" >> src/index.js

# 提交并推送
git add .
git commit -m "test: 演示CI自动触发"
git push
```

**观察：**
- CI自动开始运行
- 各个步骤依次执行
- 实时查看运行状态

---

### 第四步：与Claude Code集成（15分钟）

#### 4.1 让Claude生成测试代码

**演示场景：**
1. 请求Claude生成新功能代码
2. 同时要求生成对应的测试
3. 提交代码触发CI
4. CI自动验证代码质量

#### 4.2 .claude.md项目规范

**展示：** `demo-project/.claude.md`

**要点：**
- 项目规范文档
- Git提交规范
- 代码质量标准
- 测试要求

**强调：**
- `.claude.md` + Git历史 = 项目记忆
- Claude可以读取这些规范来理解项目

#### 4.3 完整的开发流程

**演示完整的开发周期：**

```bash
# 1. 创建功能分支
git checkout -b feature/new-feature

# 2. 让Claude生成代码和测试
# （在Claude对话中）

# 3. 本地验证
npm test
npm run lint

# 4. 提交代码
git add .
git commit -m "feat: 添加新功能"

# 5. 推送到远程
git push origin feature/new-feature

# 6. 创建Pull Request
# CI自动运行检查
```

---

### 第五步：总结与Q&A（10分钟）

#### 5.1 核心要点回顾

1. ✅ Git提供**可追溯性**和**可协作性**
2. ✅ CI/CD提供**自动化验证**和**快速反馈**
3. ✅ 规范化的流程让**Claude能更好地理解项目**

#### 5.2 与Claude Code的结合点

- 🔄 **快速迭代**：CI自动验证，减少人工检查
- 🔄 **质量保证**：自动化测试确保AI生成的代码可靠
- 🔄 **知识沉淀**：`.claude.md` + Git历史 = 项目记忆
- 🔄 **协作增强**：标准流程让团队协作更顺畅

#### 5.3 行动建议

1. **从今天开始**：为项目添加基础CI配置
2. **逐步完善**：先有再优，持续改进
3. **团队对齐**：统一Git工作流和CI流程
4. **文档先行**：在`.claude.md`中记录工程规范

---

## 📚 分享资源

### 仓库链接
- **GitHub仓库**: https://github.com/GeminiMing/Git-CI-CD
- **演示项目**: demo-project/

### 文档文件
- `分享大纲.md` - 完整的分享内容大纲
- `完整流程演示指南.md` - 详细的演示步骤
- `README.md` - 项目说明文档

### 演示项目结构
```
demo-project/
├── src/              # 源代码
├── tests/            # 测试文件（18个测试用例）
├── .github/workflows/ # CI/CD配置
├── .claude.md        # 项目规范
└── README.md         # 项目说明
```

---

## 🎓 互动环节建议

### 讨论话题
1. **你的项目中CI/CD的痛点是什么？**
2. **如何平衡自动化程度和执行速度？**
3. **Claude生成的代码如何融入现有CI流程？**

### 实战练习（可选）
- 为现有项目添加基础CI配置
- 优化提交信息规范
- 配置pre-commit hooks

---

## ✅ 分享前检查清单

- [ ] 确认GitHub仓库可访问
- [ ] 确认CI/CD流程正常运行（绿色✓）
- [ ] 准备好演示环境（终端、浏览器）
- [ ] 熟悉演示项目的代码结构
- [ ] 准备好回答常见问题

---

## 🚀 快速演示命令

### 本地运行演示
```bash
cd demo-project

# 安装依赖
npm ci

# 运行测试
npm test

# 查看覆盖率
npm run test:coverage

# 运行项目
npm start
```

### Git操作演示
```bash
# 查看提交历史
git log --oneline --graph

# 查看当前状态
git status

# 查看分支
git branch -a
```

### CI/CD演示
- 打开GitHub Actions页面
- 查看最新的运行记录
- 点击查看详细日志

---

**祝分享顺利！** 🎉
