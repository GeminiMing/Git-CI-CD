# å®Œæ•´å·¥ç¨‹å®è·µæµç¨‹æ¼”ç¤º

æœ¬æ–‡æ¡£å±•ç¤ºäº†ä»é¡¹ç›®åˆå§‹åŒ–åˆ°CI/CDè¿è¡Œçš„å®Œæ•´æµç¨‹ã€‚

## ğŸ“‹ æ­¥éª¤1ï¼šé¡¹ç›®åˆå§‹åŒ–

```bash
cd demo-project

# åˆå§‹åŒ–Gitä»“åº“
git init

# åˆ›å»ºå¹¶åˆ‡æ¢åˆ°developåˆ†æ”¯
git checkout -b develop
```

## ğŸ“¦ æ­¥éª¤2ï¼šå®‰è£…ä¾èµ–

```bash
# å®‰è£…é¡¹ç›®ä¾èµ–
npm ci

# éªŒè¯å®‰è£…æˆåŠŸ
npm list --depth=0
```

## âœ… æ­¥éª¤3ï¼šè¿è¡Œæµ‹è¯•éªŒè¯

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm test

# æŸ¥çœ‹æµ‹è¯•è¦†ç›–ç‡
npm run test:coverage

# é¢„æœŸè¾“å‡ºï¼š
# PASS  tests/greeting.test.js
# PASS  tests/calculator.test.js
# PASS  tests/validator.test.js
# Test Suites: 3 passed, 3 total
# Tests:       16 passed, 16 total
```

## ğŸ” æ­¥éª¤4ï¼šä»£ç è´¨é‡æ£€æŸ¥

```bash
# è¿è¡ŒESLintæ£€æŸ¥
npm run lint

# æ£€æŸ¥ä»£ç æ ¼å¼
npm run format:check

# å¦‚æœæ ¼å¼æœ‰é—®é¢˜ï¼Œè‡ªåŠ¨ä¿®å¤
npm run format
```

## ğŸ“ æ­¥éª¤5ï¼šGitå·¥ä½œæµæ¼”ç¤º

### 5.1 åˆå§‹æäº¤

```bash
# æŸ¥çœ‹å½“å‰çŠ¶æ€
git status

# æ·»åŠ æ‰€æœ‰æ–‡ä»¶
git add .

# åˆ›å»ºåˆå§‹æäº¤
git commit -m "chore: åˆå§‹åŒ–é¡¹ç›®

- æ·»åŠ é¡¹ç›®åŸºç¡€ç»“æ„
- é…ç½®ESLintå’ŒPrettier
- æ·»åŠ Jestæµ‹è¯•é…ç½®
- åˆ›å»ºç¤ºä¾‹ä»£ç å’Œæµ‹è¯•"
```

### 5.2 åˆ›å»ºåŠŸèƒ½åˆ†æ”¯

```bash
# åˆ›å»ºä¸€ä¸ªæ–°åŠŸèƒ½åˆ†æ”¯
git checkout -b feature/add-power-function

# æ·»åŠ æ–°åŠŸèƒ½ï¼ˆä¾‹å¦‚ï¼šä¸ºè®¡ç®—å™¨æ·»åŠ å¹‚è¿ç®—ï¼‰
# ... ç¼–è¾‘ä»£ç  ...

# æ·»åŠ æ–°åŠŸèƒ½çš„æµ‹è¯•
# ... ç¼–è¾‘æµ‹è¯•æ–‡ä»¶ ...

# è¿è¡Œæµ‹è¯•ç¡®ä¿åŠŸèƒ½æ­£å¸¸
npm test

# æäº¤æ–°åŠŸèƒ½
git add src/utils/calculator.js
git commit -m "feat(calculator): æ·»åŠ å¹‚è¿ç®—åŠŸèƒ½"

git add tests/calculator.test.js
git commit -m "test(calculator): æ·»åŠ å¹‚è¿ç®—æµ‹è¯•"
```

### 5.3 åˆå¹¶åˆ°developåˆ†æ”¯

```bash
# åˆ‡æ¢å›developåˆ†æ”¯
git checkout develop

# åˆå¹¶åŠŸèƒ½åˆ†æ”¯
git merge feature/add-power-function --no-ff

# æ¨é€åˆ°è¿œç¨‹ï¼ˆå¦‚æœæœ‰é…ç½®ï¼‰
git push origin develop
```

### 5.4 åˆ›å»ºPull Requestæµç¨‹

```bash
# æ¨é€åˆ°è¿œç¨‹ä»“åº“
git push origin feature/add-power-function

# åœ¨GitHubä¸Šåˆ›å»ºPull Request
# PRä¼šè‡ªåŠ¨è§¦å‘CIæµç¨‹
```

## ğŸš€ æ­¥éª¤6ï¼šCI/CDæµç¨‹æ¼”ç¤º

### 6.1 æŸ¥çœ‹CIé…ç½®

CIé…ç½®æ–‡ä»¶ä½ç½®ï¼š`.github/workflows/ci.yml`

### 6.2 CIæµç¨‹è¯´æ˜

å½“ä»£ç æ¨é€åˆ°GitHubæˆ–åˆ›å»ºPull Requestæ—¶ï¼Œä¼šè‡ªåŠ¨è§¦å‘ï¼š

1. **Lintæ£€æŸ¥**
   - è¿è¡ŒESLint
   - æ£€æŸ¥ä»£ç æ ¼å¼

2. **æµ‹è¯•**
   - åœ¨Node.js 18å’Œ20ä¸Šè¿è¡Œæµ‹è¯•
   - ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š

3. **æ„å»ºéªŒè¯**
   - éªŒè¯é¡¹ç›®å¯ä»¥æ­£å¸¸æ„å»º

### 6.3 æœ¬åœ°æ¨¡æ‹ŸCIæ£€æŸ¥

```bash
# æ¨¡æ‹ŸCIçš„å®Œæ•´æ£€æŸ¥æµç¨‹
echo "ğŸ” è¿è¡ŒLintæ£€æŸ¥..."
npm run lint

echo "ğŸ§ª è¿è¡Œæµ‹è¯•..."
npm run test:coverage

echo "ğŸ“¦ éªŒè¯æ„å»º..."
npm run build

echo "âœ… æ‰€æœ‰æ£€æŸ¥é€šè¿‡ï¼"
```

## ğŸ¯ æ­¥éª¤7ï¼šå®Œæ•´çš„å¼€å‘å‘¨æœŸæ¼”ç¤º

### åœºæ™¯ï¼šæ·»åŠ æ–°åŠŸèƒ½

```bash
# 1. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
git checkout -b feature/email-validation-enhancement

# 2. ç¼–è¾‘ä»£ç 
# ç¼–è¾‘ src/utils/validator.jsï¼Œå¢å¼ºé‚®ç®±éªŒè¯

# 3. ç¼–å†™æµ‹è¯•
# ç¼–è¾‘ tests/validator.test.jsï¼Œæ·»åŠ æ–°æµ‹è¯•ç”¨ä¾‹

# 4. è¿è¡Œæµ‹è¯•
npm test

# 5. ä»£ç æ£€æŸ¥
npm run lint
npm run format

# 6. æäº¤ä»£ç ï¼ˆä½¿ç”¨çº¦å®šå¼æäº¤ï¼‰
git add src/utils/validator.js tests/validator.test.js
git commit -m "feat(validator): å¢å¼ºé‚®ç®±éªŒè¯è§„åˆ™

- æ·»åŠ åŸŸåéªŒè¯
- æ”¯æŒå›½é™…åŒ–åŸŸå
- æ·»åŠ é•¿åº¦é™åˆ¶æ£€æŸ¥

Closes #123"

# 7. æ¨é€åˆ°è¿œç¨‹
git push origin feature/email-validation-enhancement

# 8. åˆ›å»ºPull Request
# CIä¼šè‡ªåŠ¨è¿è¡Œæ£€æŸ¥
# ä»£ç å®¡æŸ¥é€šè¿‡ååˆå¹¶åˆ°develop
```

## ğŸ“Š æ­¥éª¤8ï¼šæŸ¥çœ‹é¡¹ç›®çŠ¶æ€

```bash
# æŸ¥çœ‹Gitæ—¥å¿—ï¼ˆå›¾å½¢åŒ–ï¼‰
git log --oneline --graph --all

# æŸ¥çœ‹æµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š
open coverage/lcov-report/index.html

# æŸ¥çœ‹æœªæäº¤çš„æ›´æ”¹
git status

# æŸ¥çœ‹ä»£ç å·®å¼‚
git diff

# æŸ¥çœ‹ç‰¹å®šæäº¤çš„è¯¦ç»†ä¿¡æ¯
git show HEAD
```

## ğŸ› æ­¥éª¤9ï¼šå¤„ç†å¸¸è§é—®é¢˜

### é—®é¢˜1ï¼šæµ‹è¯•å¤±è´¥

```bash
# è¿è¡Œæµ‹è¯•æŸ¥çœ‹è¯¦ç»†é”™è¯¯
npm test -- --verbose

# ä¿®å¤ä»£ç åé‡æ–°æµ‹è¯•
npm test
```

### é—®é¢˜2ï¼šLintæ£€æŸ¥å¤±è´¥

```bash
# æŸ¥çœ‹å…·ä½“é”™è¯¯
npm run lint

# è‡ªåŠ¨ä¿®å¤å¯ä»¥ä¿®å¤çš„é—®é¢˜
npm run lint:fix

# æ‰‹åŠ¨ä¿®å¤å‰©ä½™çš„è§„åˆ™
```

### é—®é¢˜3ï¼šéœ€è¦æ’¤é”€æäº¤

```bash
# æ’¤é”€æœ€åä¸€æ¬¡æäº¤ï¼ˆä¿ç•™æ›´æ”¹ï¼‰
git reset --soft HEAD~1

# ä¿®æ”¹åé‡æ–°æäº¤
git commit -m "feat: ä¿®æ­£åçš„æäº¤ä¿¡æ¯"
```

### é—®é¢˜4ï¼šéœ€è¦åˆå¹¶å†²çª

```bash
# æ‹‰å–æœ€æ–°ä»£ç 
git fetch origin
git merge origin/develop

# å¦‚æœæœ‰å†²çªï¼Œæ‰‹åŠ¨è§£å†³å
git add .
git commit -m "merge: è§£å†³åˆå¹¶å†²çª"
```

## âœ… æ­¥éª¤10ï¼šæœ€ä½³å®è·µæ£€æŸ¥æ¸…å•

åœ¨æäº¤ä»£ç å‰ï¼Œç¡®è®¤ï¼š

- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼š`npm test`
- [ ] æµ‹è¯•è¦†ç›–ç‡è¾¾æ ‡ï¼š`npm run test:coverage`
- [ ] Lintæ£€æŸ¥é€šè¿‡ï¼š`npm run lint`
- [ ] ä»£ç æ ¼å¼æ­£ç¡®ï¼š`npm run format:check`
- [ ] æäº¤ä¿¡æ¯ç¬¦åˆè§„èŒƒï¼ˆçº¦å®šå¼æäº¤ï¼‰
- [ ] ä»£ç æœ‰é€‚å½“çš„æ³¨é‡Šå’Œæ–‡æ¡£
- [ ] æ–°åŠŸèƒ½åŒ…å«æµ‹è¯•ç”¨ä¾‹

## ğŸ“ å®æˆ˜ç»ƒä¹ 

### ç»ƒä¹ 1ï¼šæ·»åŠ æ–°åŠŸèƒ½
ä¸ºè®¡ç®—å™¨æ·»åŠ  `sqrt`ï¼ˆå¹³æ–¹æ ¹ï¼‰æ–¹æ³•ï¼ŒåŒ…æ‹¬ï¼š
- å®ç°åŠŸèƒ½ä»£ç 
- ç¼–å†™æµ‹è¯•
- è¿è¡Œæ‰€æœ‰æ£€æŸ¥
- æäº¤ä»£ç 

### ç»ƒä¹ 2ï¼šä¿®å¤Bug
æ¨¡æ‹Ÿå‘ç°ä¸€ä¸ªbugï¼š
- åˆ›å»ºfixåˆ†æ”¯
- ä¿®å¤é—®é¢˜
- æ·»åŠ å›å½’æµ‹è¯•
- æäº¤ä¿®å¤

### ç»ƒä¹ 3ï¼šé‡æ„ä»£ç 
é‡æ„ç°æœ‰ä»£ç ï¼š
- ä¿æŒåŠŸèƒ½ä¸å˜
- æ”¹è¿›ä»£ç ç»“æ„
- ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡

## ğŸ“š ä¸‹ä¸€æ­¥å­¦ä¹ 

1. æ·±å…¥å­¦ä¹ Gité«˜çº§åŠŸèƒ½ï¼ˆrebaseã€cherry-pickç­‰ï¼‰
2. é…ç½®æ›´å¤æ‚çš„CI/CDæµç¨‹ï¼ˆå¤šç¯å¢ƒéƒ¨ç½²ï¼‰
3. é›†æˆDockerå®¹å™¨åŒ–
4. æ·»åŠ æ€§èƒ½æµ‹è¯•å’ŒE2Eæµ‹è¯•
5. é…ç½®è‡ªåŠ¨åŒ–éƒ¨ç½²æµç¨‹
